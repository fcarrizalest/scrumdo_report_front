define(["underscore","backbone","module","app/collections/StoriesCollection"],function(t,e,s,i){var n=e.Model.extend({urlRoot:s.config().basepath+"iterations",initialize:function(){var t=this;t.fetch(),this.stories=new i,this.stories.url=s.config().basepath+"iterations/"+this.get("id")+"/stories";var e=0,n=0,o=0;t.set("suma_puntos",0),this.stories.fetch({success:function(s,i,a){s.each(function(i,a){e+=i.get("points");var r=i.get("cell");"Doing"==r.label&&(n+=i.get("points")),"Doing"!=r.label&&"Todo"!=r.label&&(o+=i.get("points")),t.set("stories",s)}),t.set("suma_puntos",e),t.set("suma_trabajando_puntos",n),t.set("suma_terminados_puntos",o)}})},parse:function(t){return void 0==t.data?t:t.data},getTitle:function(){if(void 0!==this.get("project")){var t=this.get("project");return t.name+" "+this.get("name")}return this.get("name")}}),o=e.Collection.extend({model:n,parse:function(t){return t.data}});return o});